---
name: inventory-app
description: 在庫管理アプリ（PWA）の開発、メンテナンス、リリース手順に関する包括的なガイド。
---

# 在庫管理アプリ・スキル

このスキルは、バニラJSで構成された「在庫管理アプリ」の保守・機能拡張を行う際に使用します。

## 1. 構成と参照
詳細な仕様や自動化ツールは以下のファイルにまとめられています。

- **GAS連携仕様**: [gas-api.md](references/gas-api.md) (Google Sheetsとの同期ロジック)
- **バージョン更新スクリプト**: [bump-version.js](scripts/bump-version.js) (PWAバージョンの一括更新用)

## 2. PWA更新ワークフロー（重要）
アプリの変更をユーザーの端末に確実に反映させるため、リリース時は必ず以下の手順を自動化スクリプトで行ってください。

1.  **バージョン更新**: 
    ```bash
    node .agent/skills/inventory-app/scripts/bump-version.js 1.2.15 .
    ```
    ※これにより `index.html`, `app.js`, `sw.js` のバージョン・キャッシュ名が同期されます。
2.  **検証**: ローカルで開き、ヘッダーのバージョン表記が更新されているか確認する。
3.  **デプロイ**: GitHubへプッシュし、Vercelでのビルド完了を確認する。

## 3. UI/UX 設計指針
- **モバイル優先**: 25px以上の閾値を設けたスワイプナビゲーション（左右タブ切り替え）を実装。
- **視認性**: 在庫数が3個以下の商品は `.low-stock` クラスにより背景を赤く強調。
- **軽量化**: 外部フレームワークを使わず、標準の Web API (localStorage, Service Worker) を活用。

## 4. メンテナンス
- JANコード検索には Yahoo!ショッピングAPI を使用。
- カテゴリ名を変更した際は、全商品のカテゴリキーを一括置換するロジック（`app.js`）を実行すること。
